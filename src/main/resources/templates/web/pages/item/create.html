<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{web/fragments/layout}">
<head>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/plugins/bootstrap/css/bootstrap.css}"
          href="../../static/plugins/bootstrap/css/bootstrap.css">
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>

    <script th:inline="javascript">
        $(document).ready(function () {
            $('#userRefId').select2();
        });
    </script>

    <title>Item information</title>
</head>
<body>

<div layout:fragment="content" class="content">

    <div th:if="${message}" class="alert alert-dismissible fade show alert-success" role="alert">
        <span th:text="#{${message}}"></span>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
        </button>
    </div>
    <!-- PAGE TITLE -->
    <div class="page-title">
        <div class="card bg-info text-white">
            <div class="card-body" ><h3>Item information</h3></div>
        </div>
    </div>
    <!-- customized code -->

    <div class="row justify-content-center">

      <!-- <div class="col-sm-8 text-right">
            <div class="col-sm-4 text-left">
                <input type="text" th:value="${message}" readonly
                    style="color: limegreen; background-color: white; display: block; border: none;">
            </div>

            <a class="btn btn-success btn-sm"
               th:href=@{/itemPriceSearchController/search/init}>View</a>
        </div>-->


        <div class="col-lg-12">

            <div class="card">

                <div>
                    <div class="card-body">

                        <form  id ="formItem" class="needs-validation" th:object="${itemForm}"    th:action="@{/item/save}" method="POST">

                            <div class="row">

                                <div class="col-md-4">
                                    <div class="form-group row">
                                        <label class="col-md-4 ">item ID</label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" name="itemId"
                                                   th:field="*{id}" readonly/>
                                        </div>
                                    </div>
                                </div>


                                <div class="col-md-8">
                                    <div class="form-group row">
                                        <label class="col-md-3">item name</label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" name="itemName"
                                                   style="height: 37px; width: 220px"   th:field="*{itemName}" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end row -->


                            <div class="row">

                                <div class="col-md-4">
                                    <div class="form-group row">
                                        <label class="col-md-4">Bill</label>
                                        <div class="col-md-8">
                                            <input type="checkbox" class="checkbox" name="bill"
                                                   th:field="*{bill}" id="billFlag">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-8">
                                    <div class="form-group row">
                                        <label class="col-md-3 ">Inventory</label>
                                        <div class="col-md-8">
                                            <input type="checkbox" class="checkbox" name="inventory"
                                                   th:field="*{inventory}" id="inventoryFlag">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-4">
                                    <div class="form-group row">
                                        <label class="col-md-4">Remarks</label>
                                         <div class="col-md-6">

                                        <textarea   placeholder="remarks"
                                                    style="height: 37px; width: 200px"  name="remarks" ></textarea>
                                         </div>
                                    </div>
                                </div>

                                <div id ="activeItemDiv" class="col-md-8">
                                    <div class="form-group row">
                                         <label class="col-md-3">active</label>
                                          <div class="col-md-8">
                                              <input type="checkbox" class="checkbox" name="activeStatus"
                                                th:field="*{active}" id="activeItem">
                                                </div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-12">
                                <div class="float-right">

                                    <input type="submit" value="save" style="margin-top: 24px;"
                                           class="btn btn-success btn-md"> <a
                                        style="margin-top: 24px;" class="btn btn-info"
                                        th:href="@{/item/create}">Refresh</a>

                                </div>
                            </div>


                        </form>

                        <!--  END ITEM FORM   th:style="'visibility:' + @{visibleStatus} + ';'"-->

                        <input id="formMode" th:value="${mode}"  hidden>


                        <div class="float-left  col-12" id ="divAddBtn"  style="margin-bottom: 20px;">
                            <!--  	<button onclick="toogle()"  class="btn btn-success btn-md" th:style="'visibility:hidden;'">Add price</button> -->


                        </div>


                    </div>


                </div>
            </div>
            <!-- .card -->

            <!--  	  	<div class="card"  id="itemPrice" th:style="'display:' + ${displayText} + ';'">  -->

            <div class="card"  id="priceDiv" >

                <div class="card card bg-info text-white">
                    <strong class="card-title"><h5>Price</h5></strong>
                </div>


                <div>
                    <div class="card-body">

                        <form id ="formPrice" class="needs-validation" th:object="${itemPriceForm}"   th:action="@{/item/price/save}"  method="POST">

                            <div class="row  form-horizontal">
                                <div class="col-12">
                                    <div class="form-group row">
                                        <!--  <label class="col-md-4 control-label">Price Id</label>
                                        <div class="col-md-6">
                                            <input type="number" class="form-control"
                                                th:field="*{itemPriceId}" readonly="readonly" />
                                        </div>
                                        -->
                                    </div>
                                </div>
                            </div>

                            <div class="row" hidden>
                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label">Price Id</label>
                                        <div class="col-md-6">
                                            <input type="number" class="form-control"
                                                   th:field="*{id}" readonly="readonly" />
                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label">Item Id</label>
                                        <div class="col-md-6">
                                            <input type="number" class="form-control"
                                                   th:field="*{itemId}"   readonly="readonly" />
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="row">

                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label">Price</label>
                                        <div class="col-md-6">
                                            <input type="number" class="form-control"
                                                   th:field="*{itemRate}"     />
                                        </div>
                                    </div>
                                </div>


                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label">Currency</label>
                                        <div class="col-md-6">
                                            <select id="currencyId"
                                                    th:field="*{currencyId}"  style="height: 37px; width: 220px" class="form-control"
                                                    aria-required="true" aria-invalid="false" required>

                                                <option value="1">TK</option>
                                                <option value="2">$</option>


                                                <!--  <option th:each=""
                                                    th:value="${}"
                                                    th:utext="${}" />-->

                                            </select>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="row ">
                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label">Effective From</label>
                                        <div class="col-md-6">
                                            <input type="date"  th:field="*{effectiveFrom}"   style="height: 37px; width: 220px" />

                                        </div>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4 control-label">Effective To</label>
                                        <div class="col-md-6">
                                            <input type="date" th:field="*{effectiveTo}"  style="height: 37px; width: 220px"/>

                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="row">

                                <div class="col-6">
                                    <div class="form-group row">
                                        <label class="col-md-4">Remarks</label>
                                          <div class="col-md-6">

                                        <textarea   placeholder="remarks"
                                                    th:field="*{remarks}"  style="height: 37px; width:  220px"  name="remarks" ></textarea>
                                         </div>
                                    </div>
                                </div>


                                <div id ="activeDivPrice" class="col-md-6" >
                                    <div class="form-group row">
                                        <label class="col-md-4">active</label>
                                        <div class="col-md-6">
                                            <input type="checkbox" class="checkbox" name="activeStatus"
                                                   th:field="*{active}" id="active">
                                        </div>
                                    </div>
                                </div>

                            </div>



                           <!-- <div class="row  form-horizontal">
                                <div class="col-6 text-right">
                                    <div class="float-right">

                                        <input type="submit" value="save" style="margin-top: 24px;"
                                               class="btn btn-success btn-md"> <a
                                            style="margin-top: 24px;" class="btn btn-info"
                                            th:href="@{/itemPriceController/init/refresh}">Refresh</a>

                                    </div>
                                </div>
                            </div>-->

                            <div class="col-12">
                                <div class="float-right">

                                    <input type="submit" value="save" style="margin-top: 24px;"
                                           class="btn btn-success btn-md"> <a
                                        style="margin-top: 24px;" class="btn btn-info"
                                        th:href="@{/item/create}">Refresh</a>



                                </div>
                            </div>


                        </form>


                        <!--  END ITEM FORM -->


                    </div>

                </div>


            </div> <!-- end price div-->

            <div class="card"  id="" >

            <div>
                <div class="card-body">

                    <form  class="needs-validation">
                        <div class="row">


                            <div class="card table-container"
                                 style="width: 1000px; overflow-x: scroll">
                                <div class="card bg-info text-white">
                                    <strong class="card-title"><h5>price List</h5></strong>
                                </div>


                                <div class="card-body" id="myTable1">


                                    <table id="myTable"
                                           class="table table-striped table-bordered display nowrap"
                                           style="width: 100%">
                                        <thead>

                                        <tr>
                                            <!-- <th>item Price id</th>-->
                                            <!-- <th>Item id</th>-->
                                            <th>Item</th>

                                            <!--<th>Item Name</th>
                                                           <th>Bill</th>
                                                           <th>Inventory</th>
                                                           <th>Remarks</th>-->

                                            <th>Price</th>

                                            <th>Currency</th>

                                            <th>Effective From</th>
                                            <th>Effective To</th>
                                            <th>Remarks</th>
                                            <th>Active</th>
                                            <th>Action</th>
                                        </tr>
                                        </thead>
                                        <tbody>

                                        <tr th:each="priceList:${itemPriceList}">

                                            <!--    <td><span th:text="${priceList.modelItemInfo.itemId}"></span></td>-->
                                            <!--<td><span th:text="${priceList.id}"></span></td>-->


                                            <!--<td class="text-center"><input type="checkbox"
                                                            id="defaultChecked9" class="form-control"
                                                            name="inventoryFlag"
                                                            th:checked="${priceList.modelItemInfo.inventoryFlag}==1"
                                                            onclick="return failer"></td>

                                                         <td><span th:text="${priceList.modelItemInfo.remarks}"></span></td>-->
                                            <td><span th:text="${priceList.Id}"></span></td>
                                            <td><span th:text="${priceList.itemRate}"></span></td>
                                            <td><span th:text="${priceList.currencyId}"></span></td>

                                            <td><span th:text="${priceList.effectiveFrom}"></span></td>
                                            <td><span th:text="${priceList.effectiveTo}"></span></td>

                                            <td><span th:text="${priceList.remarks}"></span></td>
                                            <td class="text-center"><input type="checkbox"
                                                                           id="defaultChecked9"
                                                                           name="activeStatus"
                                                                           th:checked="${priceList.activeStatus}==1"
                                                                           onclick="return failer"></td>

                                            <td><a class="btn btn-info btn-md" id="editBtn"
                                                   th:href="@{/item/price/update/{id}(id=${priceList.id})}" >Edit</a></td>
                                            <!--       <td><span th:text="${priceList.itemId}"></span></td>
                                                        <td><span th:text="${priceList.itemName}"></span></td>

                                                        <td><span th:text="${priceList.remarks}"></span></td>
                                                        <td class="text-center"><input type="checkbox"
                                                            id="defaultChecked9" class="form-control"
                                                            name="activeStatus"
                                                            th:checked="${priceList.activeStatus}==1"
                                                            onclick="return failer"></td>   -->
                                        </tr>

                                        </tbody>
                                    </table>

                                </div>
                            </div>

                        </div>


                    </form>
                </div>
            </div>
            </div><!-- end card for  list -->

        </div>

    </div>

</div>


<!--<script>-->
<!--    function visibleInvisiable() {-->

<!--        if (document.myTable.editBtn.onClick()) {-->
<!--            document.formPrice.activeDivPrice.hidden=false;-->
<!--        } else {-->
<!--            document.formPrice.activeDivPrice.hidden=true;-->
<!--        }-->
<!--    }-->
<!--    window.onload = visibleInvisiable;-->
<!--</script>-->

<script type="text/javascript">
    $(document).ready(function() {

        alert("first");

        var mode = $("#formMode").val();
        alert("second");

        if (mode == "edit") {
            alert("third");

            $("#activeItemDiv").append(' <div class="form-group row">\n' +
                '  <label class="col-md-3">active</label>\n' +
                '   <div class="col-md-8">\n' +
                '   <input type="checkbox" class="checkbox" name="activeStatus"\n' +
                '    th:field="*{active}" id="activeItem">\n' +
                '    </div>\n' +
                '    </div> ');

            // $('#activeDivPrice').css("display", "");
            // $('#activeItemDiv').css("display", "");
        }
        else {
            alert("out");
            // $('#activeDivPrice').css("display", "none");
            // $('#activeItemDiv').css("display", "none");
        }
    });
</script>

</body>
</html>