<div th:fragment="student-information" xmlns:th="http://www.w3.org/1999/xhtml">


    <form th:object="${studentRegistrationForm}"
          th:action="@{/studentregistrationcontroller/save}"
          th:method="POST" enctype="multipart/form-data">


        <div class="row">

            <!--   <div class="col-6">
    <div class="form-group row">
        <div class="form-group row upload-image">
          <div class="upload-image-preview" th:src="@{${msr.getPicturePath()}}" id="studentImage">
             </div>
              <input type="file" name="file" value="Upload Image" />
             </div>
         </div>
     </div>   -->

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Student
                        Registration ID</label>
                    <div class="col-md-8">
                        <input type="text" class="form-control"
                               placeholder="Student Registration ID"
                               th:field="*{studentRegistrationId}" readonly="readonly">
                    </div>
                </div>
            </div>

        </div>


        <div class="row">

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Visual ID</label>
                    <div class="col-md-8">
                        <input type="text" class="form-control"
                               placeholder="Visual ID" th:field="*{visualId}">
                    </div>
                </div>
            </div>

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Registration
                        Date</label>
                    <div class="col-md-8">

                        <input type="date" class="form-control"
                               placeholder="mm/dd/yyyy" th:field="*{registrationDate}">
                        <p></p>
                    </div>
                </div>
            </div>




        </div>

        <div class="row">
            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Student Name<span
                            style="color: red">*</span></label>
                    <div class="col-md-8">
                        <input type="text" class="form-control"
                               placeholder="Student Name" th:field="*{studentName}"
                               id="studentName"> <span th:class="err"
                                                       th:if="${#fields.hasErrors('studentName')}"
                                                       th:errors="*{studentName}" style="color: red">Please
														Enter your name</span>
                    </div>
                </div>


            </div>

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4">Gender<span class="req"
                                                        style="color: red">*</span></label>
                    <div class="col-md-8">
                        <input type="radio" name="gender" th:field="*{gender}"
                               id="male" value="1" checked="checked"> Male <input
                            type="radio" name="gender" th:field="*{gender}"
                            id="female" value="2"> Female

                    </div>
                </div>

            </div>



        </div>
        <div class="row">


            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Date of Birth</label>
                    <div class="col-md-8">
                        <input type="date" id="startDate" class="form-control"
                               aria-required="true" aria-invalid="false"
                               placeholder="mm/dd/yyyy" th:field="*{doB}">
                    </div>
                </div>
            </div>

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Contact Number<span
                            style="color: red">*</span></label>
                    <div class="col-md-8">
                        <input type="text"  class="form-control"
                               placeholder="Contact Number" th:field="*{contactNo}">
                    </div>
                </div>
            </div>


        </div>



        <div class="row">
            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Father Name<span
                            style="color: red">*</span></label>
                    <div class="col-md-8">
                        <input type="text"  class="form-control"
                               placeholder="Father Name" th:field="*{fatherName}">
                    </div>
                </div>
            </div>



            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Mother Name<span
                            style="color: red">*</span></label>
                    <div class="col-md-8">
                        <input type="text" class="form-control"
                               placeholder="Mother Name" th:field="*{motherName}">
                    </div>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Present
                        Address<span style="color: red">*</span>
                    </label>
                    <div class="col-md-8">
													<textarea rows="2" class="form-control"
                                                              style="width: 100%" th:field="*{presentAdd}"></textarea>
                    </div>
                </div>
            </div>

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Present
                        Address Code<span style="color: red">*</span>
                    </label>
                    <div class="col-md-8">
                        <input type="text"  class="form-control"
                               placeholder="Present Address Code"
                               th:field="*{presentAddPostcode}">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Permanent
                        Address<span style="color: red">*</span>
                    </label>
                    <div class="col-md-8">
													<textarea rows="2" class="form-control" id="address"
                                                              style="width: 100%" th:field="*{permanentAdd}"></textarea>
                    </div>
                </div>
            </div>

            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Permanent
                        Address Code<span style="color: red">*</span>
                    </label>
                    <div class="col-md-8">
                        <input type="text" id="stuName" class="form-control"
                               placeholder="Permanent Address Code"
                               th:field="*{permanentAddPostCode}">
                    </div>
                </div>
            </div>
        </div>


        <div class="row">


            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Blood Group</label>
                    <div class="col-md-8">
                        <select id="machineTypeId" style="height: 37px"
                                class="form-control" aria-required="true"
                                aria-invalid="false" th:field="*{bloodGroup}">
                            <option value="">Select</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                        </select>
                    </div>
                </div>
            </div>


            <div class="col-6">

                <div class="form-group row">
                    <label class="col-md-4 control-label">Session</label>

                    <div class="col-md-8">
                        <select id="sessionId" name="sessionId"
                                style="height: 37px" class="form-control"
                                aria-required="true" aria-invalid="false"
                                th:field="*{sessionId}">
                            <option value="">Select</option>
                            <option th:each="sList:${sessionList}"
                                    th:value="${sList.sessionId}"
                                    th:utext="${sList.sessionName}" />
                        </select>

                    </div>
                </div>
            </div>
        </div>




        <div class="row">




            <div class="col-6">
                <div class="form-group row">
                    <label class="col-md-4 control-label">Remark </label>
                    <div class="col-md-8">
													<textarea rows="2" class="form-control" id="remarks"
                                                              th:field="*{remarks}"></textarea>
                    </div>
                </div>
            </div>



        </div>


        <br>

        <div class="modal-footer">
            <input type="submit" value="Save" class="btn btn-success"
                   style="margin-top: 24px;"> <a
                style="margin-top: 24px;" class="btn btn-primary"
                th:href="@{/studentregistrationcontroller/init}"
                id="refreshBtn">Refresh</a>
        </div>
        <br> <br>
    </form>



    <script>
        $('#districtId').change(
            function() {
                $.getJSON("/samityOldController/getUpzilla", {
                    districtId : $(this).val(),
                    ajax : 'true'
                }, function(data) {
                    var html = '<option value="">-- নির্বাচন করুন --</option>';
                    var len = data.length;
                    for ( var i = 0; i < len; i++) {
                        html += '<option value="' + data[i].id + '">'
                            + data[i].upzillaName + '</option>';
                    }
                    html += '</option>';
                    $('#upzillaId').html(html);
                });
            });

        $('#upzillaId').change(
            function() {
                $.getJSON("/samityOldController/getUnion", {
                    upzillaId : $(this).val(),
                    ajax : 'true'
                }, function(data) {
                    var html = '<option value="">-- নির্বাচন করুন --</option>';
                    var len = data.length;
                    for ( var i = 0; i < len; i++) {
                        html += '<option value="' + data[i].id + '">'
                            + data[i].unionName + '</option>';
                    }
                    html += '</option>';
                    $('#unionId').html(html);
                });
            });

    </script>
    <script >
        $( document ).ready(function() {
            const samityId =$('#id').val();
            var uId=null;
            if(samityId!=null && samityId!=""){
                $.getJSON("/samityOldController/findUnionIdBySamityId", {
                    samityId : samityId,
                    ajax : 'true'
                }, function(unionId) {
                   uId=unionId;
                });
            }

            if(samityId!=null && samityId!=""){
                $.getJSON("/samityOldController/findDistrictIdBySamityId", {
                    samityId : samityId,
                    ajax : 'true'
                }, function(districtId) {
                   $('#districtId').val(districtId);
                    loadUpzilla(districtId);
                    $.getJSON("/samityOldController/findUpzillaIdBySamityId", {
                        samityId : samityId,
                        ajax : 'true'
                    }, function(upzillaId) {
                        loadUnion(upzillaId,uId);
                    });

                });
            }  // if condition end here
        });
    </script>




</div>